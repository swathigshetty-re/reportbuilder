<!DOCTYPE html>
<html>
<head>
<title>Add Report</title>

<style>
body{
    font-family: Arial;
    background:#f4f6f9;
    padding:30px;
}

.card{
    background:white;
    padding:20px;
    border-radius:8px;
    max-width:500px;
    margin:auto;
}

input, textarea, select, button{
    width:100%;
    padding:10px;
    margin:10px 0;
}

button{
    background:#3498db;
    color:white;
    border:none;
}
</style>
</head>

<body>

<div class="card">
<h2>Add Report</h2>

<input id="name" placeholder="User Name">
<input id="role" placeholder="Role">
<input id="project" placeholder="Project Name">

<textarea id="comment" placeholder="Initial Comment"></textarea>

<select id="status">
    <option>Completed</option>
    <option>In Progress</option>
    <option>Project Created</option>
    <option>On Hold</option>
    <option>Cancelled</option>
    <option>Needs Review</option>
    <option>Approved</option>
    <option>Rejected</option>
    <option>incomplete</option>
</select>

<button onclick="addReport()">Add Report</button>
</div>

<script>
function addReport(){

    let reports = JSON.parse(localStorage.getItem("reports")) || [];

    const loggedUser = localStorage.getItem("loggedInUser");

    if(!loggedUser){
        alert("Please login first");
        window.location.href = "login.html";
        return;
    }

    const project = document.getElementById("project").value.trim();
    const comment = document.getElementById("comment").value.trim();
    const status = document.getElementById("status").value;

    if(!project){
        alert("Please enter project name");
        return;
    }

    reports.push({
        title: project,
        owner: loggedUser,  // ðŸ”¥ automatically from login
        comments: [{
            text: comment,
            by: loggedUser,
            date: new Date().toISOString().slice(0,10)
        }],
        status: status
    });

    localStorage.setItem("reports", JSON.stringify(reports));

    alert("Report Added Successfully");

    window.location.href = "admin_dashboard.html";
}
</script>



</body>
</html>
